<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>Apple .help bundle setup</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href="../assets/stylesheets/style.css" rel="stylesheet" />
    <script src="../assets/javascripts/all.js"></script>
  </head>
  <body class='reference_and_conventions 10_apple_help_setup'>
    <nav id='breadcrumbs'>
      <div class='breadcrumbs'>
        <ul>
          <li><a href="../index.html">Middlemac Help</a></li>
          <li><a href="index.html">Reference and Conventions</a></li>
          <li><a href="10_apple_help_setup.html">Apple .help bundle setup</a></li>
        </ul>
      </div>
    </nav>
    <div class='container-logo-medium'>
      <div>
        <div class='yield-content'>
          
          <h1 id="apple-help-bundle-setup">Apple .help bundle setup</h1>
          
          <p>A reference to what <em>Middlemac</em> does to ensure that you build a proper, working Apple Helpbook.</p>
          
          <p>While it’s true that an Apple Helpbook is simply a glorified web site, there
          are details that are required to be satisfied in order to make them work with
          your Mac OS X applications. Luckily <em>Middlemac</em> takes care of most of these
          details for you.</p>
          
          <h2 id="cfbundlename-and-targets">CFBundleName and Targets</h2>
          
          <p>The first thing we need to do is come up with a <code>CFBundleName</code> for our help
          projects, and decide what the targets are going to be. This will help us setup
          XCode shortly.</p>
          
          <p>XCode doesn’t know or care what the help bundle’s <code>CFBundleName</code> is, but
          <em>Middlemac</em> uses it and the target to name the final, built help bundle, and
          XCode <em>does</em> have to know the name of those.</p>
          
          <p>All of your targets will share the same <code>CFBundleName</code>, so it should be
          descriptive of all of your targets adn related to your product name. If the
          examples on this page, we’ll use <code>Middlemac</code>. This project also has the targets
          <code>pro</code> and <code>free</code>. What this means is <em>Middlemac</em> will build help bundles named
          <code>Middlemac (pro).help</code> and <code>Middlemac (free).help</code>.</p>
          
          <p>Let’s use this information and start to setup XCode.</p>
          
          <h2 id="xcode-configuration">XCode Configuration</h2>
          
          <h3 id="add-files">Add Files</h3>
          
          <p>Let’s first tell your XCode targets that the help bundle files are available. In
          your XCode project, create folders named <code>Middlemac (pro).help</code> and <code>Middlemac&#x000A;(free).help</code>. They typically go into your project’s <code>Resources</code> folder. Mac OS
          will automatically display them as bundles. For now, these are just proxies for
          the bundles we’ll build later.</p>
          
          <p>Next you can add these files to XCode the usual way (“Add files…”). <strong>Make sure
          you add these by creating folder references. This is critical.</strong></p>
          
          <p class="note">Just in case the bold sentence wasn’t reminder enough: make sure you select the
          option to create folder references when adding files.</p>
          
          <p>Assuming you have a Pro and Free target in XCode, you can use the file inspector
          to make sure the Pro <code>.help</code> and the Free <code>.help</code> have the appropriate, obvious
          target memberships.</p>
          
          <h3 id="configure-your-applications-infoplist-files">Configure your applications’ <code>Info.plist</code> files</h3>
          
          <p>If you have multiple XCode targets, you may be using a different <code>Info.plist</code>
          file for each target. If not, then you’ll have to start because they contain
          information unique to each helpbook.</p>
          
          <p class="note">Alternatively you can setup an <code>Info.plist</code> pre-processor (this is my preferred
          approach) that generates an <code>Info.plist</code> for each target when you build.
          <em>That’s</em> beyond the scope of this document, though. You can begin by looking at
          your XCode targets’ <strong>Build Settings -&gt; Packaging</strong>.</p>
          
          <p>In each of your <code>Info.plist</code> files, find or create the following keys:</p>
          
          <dl>
            <dt><code>Help Book directory name</code> (XCode name)</dt>
            <dt><code>CFBundleHelpBookFolder</code> (raw key name)</dt>
            <dd>
              <p>Ensure you use the appropriate <code>Middlemac (pro).help</code> or
          <code>Middlemac (free).help</code>, depending on which target’s <code>.plist</code> this is.</p>
            </dd>
            <dt><code>Help Book identifier</code> (XCode name)</dt>
            <dt><code>CFBundleHelpBookName</code> (raw key name)</dt>
            <dd>
              <p>This must match the unique <code>CFBundleID</code> that you set for each of your
          help targets in the help project’s <code>config.rb</code> file. If you’ve not setup
          the <code>config.rb</code> yet, now is a good time to decide on the keys that you will
          use.</p>
          
              <p>This sample project uses <code>com.balthisar.middlemac.free.help</code> and
          <code>com.balthisar.middlemac.pro.help</code>.</p>
            </dd>
          </dl>
          
          <h2 id="setup-configrb-and-especially-optionshelpoutputlocation">Setup <code>config.rb</code> and especially <code>options.Help_Output_Location</code></h2>
          
          <p>Next make sure you <a title="config.rb reference" href="05_config_rb_reference.html">setup <code>config.rb</code></a> with matching
          values from above.</p>
          
          <p>We setup empty proxy <code>.help</code> bundles for XCode above. Make sure that you set
          your <code>config.rb</code>’s <code>options.Help_Output_Location</code> to the directory that you
          created the proxy files. Then, any time you build your help projects with
          <em>Middlemac</em>, they will be ready to go in XCode automatically, the next time you
          build your XCode project.</p>
          
          <h2 id="middlemac-takes-care-of-everything-else"><em>Middlemac</em> takes care of everything else</h2>
          
          <p>Once your <code>config.rb</code> is setup, <em>Middlemac</em> takes care of setting all of the
          required keys and data in all of the help bundle <code>.plist</code>, <code>.strings</code>, and
          main <code>index.html</code> file, managing them for each target.</p>
          <hr>
          <div class='navigate_prev_next'>
            <a href="09_helpers_reference/index.html">Previous</a>
            <a href="11_using_local_data.html">Next</a>
          </div>
        </div>
      </div>
      <div>
        <div>
          <img alt="logo" src="../../shared/icon_256x256@2x.png" />
        </div>
        <div class='related_topics'>
          <h1>Related Topics</h1>
          <ul>
            <li><a href="01_directory_and_image_conventions.html">Directory, filename, and image organization conventions</a></li>
            <li><a href="02_paths_conventions.html">Path reference conventions</a></li>
            <li><a href="03_layout_template_conventions.html">Layout and template conventions</a></li>
            <li><a href="04_middlemac_cli_reference.html">Middlemac command line reference</a></li>
            <li><a href="05_config_rb_reference.html">config.rb reference</a></li>
            <li><a href="06_frontmatter_keys.html">Frontmatter and keys</a></li>
            <li><a href="07_including_excluding.html">Including and excluding targets and features</a></li>
            <li><a href="08_partials_reference.html">Partials reference</a></li>
            <li><a href="09_helpers_reference/index.html">Helpers and  methods reference</a></li>
            <li><a href="11_using_local_data.html">Using local data</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
