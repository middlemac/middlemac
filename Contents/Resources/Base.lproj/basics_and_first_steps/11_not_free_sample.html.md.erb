---
title:    Invisible On Free
blurb:    This page is not completely available for target `:free`, as a demonstration of
          the use of targets.
layout:   template-logo-large
navigate: false
exclude:
 - :free
---
<%= partial 'markdown-links' %>
<%= partial 'markdown-images' %>

<% content_for :seeAlso do %>
Sidebar stuff can go here.
<% end %>


<%= current_page.data.title %>
==============================

<%= current_page.data.blurb %>

If you’ve landed here despite using the `:free` target, you may be thinking
that targeting isn’t working properly. This isn’t ideal, but there’s no way to
prevent _Middleman_ from actually copying the files.

However you will notice that the page is, in fact, hidden from all tables of
contents and index pages. There’s no way to navigate to this page unless you
accidentally include a direct link not protected by **target_name?** or
**target_feature** helpers.

~~~ erb
<%% link_to 'sample page excludes target `:free`', '11_not_free_sample' unless target_name?(:free) %>
~~~


How is this accomplished?
-------------------------

This is the frontmatter for this page. Note the key `exclude`, which indicates
that this is page should be hidden from _Middleman_’s navigation system.

~~~ yaml
---
title:    Invisible On Free
blurb:    This page is not completely available for target `:free`, as a demonstration of
          the use of targets.
layout:   template-logo-large
navigate: false
exclude:
 - :free
---
~~~

The opposite of `exclude` is `target`. If you use `target`, only those targets
included in the target list will be included in _Middlemac_ navigation.
Using `exclude` overrides `target`.

Note that `target` and `exclude` are lists; you can specify multiple targets and
[features][08_features_overview] (which also can be used).


Hide content from the help indexer, too
---------------------------------------

Although _Middlemac_’s tools automatically hide links to excluded content, these
pages will still end up in the `.help` bundle. This means that the final step
in building your helpbook -- indexing -- will index these hidden pages, too,
making them available for viewing by the help system.

Therefore it’s a best practice to _also_ exclude all of the content on the page
by bracketing it using the **target_name?** helper. For example.

~~~ erb
<%% unless target_name?(:free) %>
   You can only read this if that target is not `:free`.
   All of the page content here will _not_ be included in the build,
   although the empty page will be. Since there’s nothing for the help indexer
   to index, and there will be no automatic links to this page, it effectively
   doesn’t exist.
<%% end %>
~~~

If you’re still reading this via the `:free` target, the next paragraph won’t be
present, and this is the end of the article.

<% unless target_name?(:free) %>
   You can only read this if that target is not `:free`.
   All of the page content here will _not_ be included in the build,
   although the empty page will be. Since there’s nothing for the help indexer
   to index, and there will be no automatic links to this page, it effectively
   doesn’t exist.
<% end %>
