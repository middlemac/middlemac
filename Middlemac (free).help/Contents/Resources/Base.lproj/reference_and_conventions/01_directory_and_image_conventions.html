<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>Directory, filename, and image organization conventions</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href="../assets/stylesheets/style.css" rel="stylesheet" />
    <script src="../assets/javascripts/all.js"></script>
  </head>
  <body class='reference_and_conventions 01_directory_and_image_conventions'>
    <nav id='breadcrumbs'>
      <div class='breadcrumbs'>
        <ul>
          <li><a href="../index.html">Middlemac Help</a></li>
          <li><a href="index.html">Reference and Conventions</a></li>
          <li><a href="01_directory_and_image_conventions.html">Directory, filename, and image organization conventions</a></li>
        </ul>
      </div>
    </nav>
    <div class='container-logo-medium'>
      <div>
        <div class='yield-content'>
          
          <h1 id="directory-filename-and-image-organization-conventions">Directory, filename, and image organization conventions</h1>
          
          <p>Learn about proper structure for your directory hierarchy, filenames, and image locations.</p>
          
          <h2 id="directory-conventions">Directory conventions</h2>
          
          <p>You will have notice by now that your content root appears to be two levels
          below the actual project root. This is a result of the Apple Help directory
          structure. Remember, <em>Middleman</em> depends on building an output project that
          mirrors the input project. In order for links, images, and other content to
          be accessed properly, <em>Middlemac</em> uses Apple’s convention.</p>
          
          <p>Fortunately once inside the <code>Base.lproj</code> directory, we – as helpbook 
          developers – are free to organize files as we see fit, despite the examples
          you may have seen in Apple’s documentation. <em>Middlemac</em>, though, has setup a
          hierarchy that “just works,” and the explanation follows. Starting at the top,
          let’s look at a <em>Middleman</em> project layout. Also don’t forget to have a look
          later at <a title="Apple .help bundle setup" href="10_apple_help_setup.html">Apple Help setup</a>.</p>
          
          <dl>
            <dt><code>Contents/</code></dt>
            <dd>
              <p>Contains everything in your help project that will be compiled into or
          contribute to the final <code>.help</code> project.</p>
            </dd>
            <dt><code>Contents/_Info.plist</code> and (maybe)</dt>
            <dt><code>Contents/Info.plist</code></dt>
            <dd>
              <p>The <code>_Info.plist</code> file is a template file that <em>Middlemac</em> will process into
          the final <code>Info.plist</code> that your Mac OS X application needs in order to work
          with your helpbook. For a basic project you shouldn’t have to modify anything
          in this file, but if you want or need to have other key-value pairs in the
          final <code>Info.plist</code>, then add them here, and <em>not</em> in the <code>Info.plist</code> file
          (which is overwritten every time you build your project or start the server).</p>
          
              <p class="note">The template should <em>not</em> be moved, and there’s no master <code>.plist</code> or
          <code>.strings</code> template directory because <em>Middlemac</em> will search for and process
          <em>any</em> of these two file types, anywhere in the project, and place the output
          version in the same location.</p>
            </dd>
            <dt><code>Contents/Resources/shared</code></dt>
            <dd>
              <p>This directory contains assets that are common between all of your different
          help language projects. Although <em>Middlemac</em> is not a multilingual solution
          <em>per se</em>, this is maintained because you can simply have a different
          <em>Middlemac</em> project per language, and then merge in the other language
          <code>.lproj</code> directories into your final helpbook, sharing assets in this
          directory.</p>
            </dd>
            <dt><code>Contents/Resources/Base.lproj</code></dt>
            <dd>
              <p>This directory serves as your base <a title="Groups overview" href="../basics_and_first_steps/09_groups_overview.html">group</a> and contains
          all of your helpbook’s content as well as pieces that will contribute to your
          content (such as templates).</p>
          
              <p>Any other files that result in <code>.html</code> in this directory level, except for
          <code>index.html</code> constitute part of the <code>Base.lproj</code> group. At this level you
          should start adding directories to contain your other groups.</p>
            </dd>
            <dt><code>Contents/Resources/Base.lproj/index.html</code></dt>
            <dd>
              <p>This is the top level file in your entire project, and is also the Apple
          Help System main landing page.</p>
            </dd>
            <dt><code>Contents/Resources/Base.lproj/_InfoPlist.strings</code> and (maybe)</dt>
            <dt><code>Contents/Resources/Base.lproj/InfoPlist.strings</code></dt>
            <dd>
              <p>The <code>_InfoPlist.strings</code> file is a template file that <em>Middlemac</em> will 
          process into <code>InfoPlist.strings</code>, which contains the localized version of
          your applications’ human-readable <code>Info.plist</code> data (specifically,
          <code>CFBundleName</code> and <code>HPDBookTitle</code>).</p>
          
              <p><em>Middlemac</em> is a multi-target solution for a single language, and not a
          multi-language solution <em>per se</em>, and so the <code>CFBundleName</code> in your
          <code>config.rb</code> will be used, whether it’s English or German or Chinese. This is
          one of the strengths of <code>Base.lproj</code>: it’s agnostic.</p>
          
              <p class="note">The template should <em>not</em> be moved, and there’s no master <code>.plist</code> or
          <code>.strings</code> template directory because <em>Middlemac</em> will search for and process
          <em>any</em> of these two file types, anywhere in the project, and place the output
          version in the same location.</p>
            </dd>
            <dt><code>Contents/Resources/Base.lproj/assets/</code></dt>
            <dd>
              <p>This directory contains all of the non-content assets used in your helpbook
          such as stylesheets, images, etc., as well as data source files, templates,
          layouts and partials.</p>
          
              <p>You will notice that some of these classes of items are in unconventional
          locations compared to a default <em>Middleman</em> project. This was done on your
          behalf for the sake of portability and for having a non-distracting directory
          environment.</p>
          
              <dl>
                <dt><code>_data/</code></dt>
                <dd>This directory contains data files that you can use to supply data for
          <a title="Using local data" href="11_using_local_data.html">using local data</a>. This directory will not be
          output in the final build.</dd>
                <dt><code>_layouts/</code></dt>
                <dd>All layouts and templates should go here. This directory will not be
          output in the final build.</dd>
                <dt><code>javascripts/</code></dt>
                <dd>Javascripts, if any, should go here. You should prefix each script with
          and underscore so that they will <em>not</em> be included. The already-present
          file <code>all.js</code> will bundle them into a single file – <code>all.js</code> – and
          <em>that’s</em> the file loaded by the <em>Middlemac</em> layouts.</dd>
                <dt><code>partials/</code></dt>
                <dd>All partials should go here, and be prefaced with an underscore so that
          they will not generate build output.</dd>
                <dt><code>stylesheets/</code></dt>
                <dd>Your <code>.css</code> and <code>.scss</code> files should go here. Read more about <em>Middlemac</em>
          CSS organization <a title="CSS and image_widths.css" href="../basics_and_first_steps/10_built_in_features/02_css.html">here</a>.</dd>
              </dl>
            </dd>
          </dl>
          
          <h2 id="images">Images</h2>
          
          <p>Most images, of course, should go into the <code>images</code> directory of the <code>assets</code>
          directory.</p>
          
          <p>However <em>Middlemac</em> also depends on two magic images being placed in
          <code>Contents/Resources/Shared/</code>:</p>
          
          <dl>
            <dt><code>icon_32x32@2x.png</code></dt>
            <dd>
              <p>This file is your help file icon at 64 × 64 pixels, and will be used by the
          included templates automatically. More importantly, however, your main
          landing page is linked to this icon so that Apple Help Viewer knows what
          the help icon is.</p>
            </dd>
            <dt><code>icon_256x256@2x.png</code></dt>
            <dd>
              <p>The same as above, but at 512 × 512 pixels.</p>
            </dd>
          </dl>
          
          <h2 id="images-organization">Images Organization</h2>
          
          <p>When you content images are located in the <code>assets/images</code> directory,
          <em>Middleman</em>’s <a title="Middleman helpers" href="09_helpers_reference/01_middleman_helpers.html">helpers</a> can find them automatically
          without any worry about relative or absolute file paths.</p>
          <hr>
          <div class='navigate_prev_next'>
            <span>Previous</span>
            <a href="02_paths_conventions.html">Next</a>
          </div>
        </div>
      </div>
      <div>
        <div>
          <img alt="logo" src="../../shared/icon_256x256@2x.png" />
        </div>
        <div class='related_topics'>
          <h1>Related Topics</h1>
          <ul>
            <li><a href="02_paths_conventions.html">Path reference conventions</a></li>
            <li><a href="03_layout_template_conventions.html">Layout and template conventions</a></li>
            <li><a href="04_middlemac_cli_reference.html">Middlemac command line reference</a></li>
            <li><a href="05_config_rb_reference.html">config.rb reference</a></li>
            <li><a href="06_frontmatter_keys.html">Frontmatter and keys</a></li>
            <li><a href="07_including_excluding.html">Including and excluding targets and features</a></li>
            <li><a href="08_partials_reference.html">Partials reference</a></li>
            <li><a href="09_helpers_reference/index.html">Helpers and  methods reference</a></li>
            <li><a href="10_apple_help_setup.html">Apple .help bundle setup</a></li>
            <li><a href="11_using_local_data.html">Using local data</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
